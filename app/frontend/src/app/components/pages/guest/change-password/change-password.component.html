<div class="container-fluid vh-100 overflow-auto">
  <app-guest-header></app-guest-header>
  <div class="row bg-dark rounded main">
    <div class="col-sm-3"></div>
    <div class="col-sm-6 mt-3 mb-3">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="do-you-remember-checkbox" [(ngModel)]="doesUserRemember">
        <label class="form-check-label text-white" for="do-you-remember-checkbox">
          I remember my old password.
        </label>
      </div>
    </div>
    <div class="col-sm-3"></div>
    <ng-container *ngIf="doesUserRemember">
      <div class="col-sm-3"></div>
      <div class="col-sm-6 mt-3 mb-3">
        <label for="input-username1" class="form-label text-white">Username</label>
        <input type="text" class="form-control" id="input-username1" [class.is-invalid]="username == ''"
          [class.is-valid]="username != ''" [(ngModel)]="username">
        <div class="invalid-feedback">
          {{usernameError}}
        </div>
        <div class="valid-feedback">
          {{successMessage}}
        </div>
      </div>
      <div class="col-sm-3"></div>
      <div class="col-sm-3"></div>
      <div class="col-sm-6 mt-3 mb-3">
        <label for="input-old" class="form-label text-white">Old password</label>
        <input type="password" class="form-control" id="input-old" [class.is-invalid]="oldPassword == ''"
          [class.is-valid]="oldPassword != ''" [(ngModel)]="oldPassword">
        <div class="invalid-feedback">
          {{oldPasswordError}}
        </div>
        <div class="valid-feedback">
          {{successMessage}}
        </div>
      </div>
      <div class="col-sm-3"></div>
      <div class="col-sm-3"></div>
      <div class="col-sm-6 mt-3 mb-3">
        <label for="input-new" class="form-label text-white">New password</label>
        <input type="password" class="form-control" [class.is-invalid]="newPassword == ''"
          [class.is-valid]="newPassword != ''" id="input-new" [(ngModel)]="newPassword">
        <div class="invalid-feedback">
          {{newPasswordError}}
        </div>
        <div class="valid-feedback">
          {{successMessage}}
        </div>
      </div>
      <div class="col-sm-3"></div>
      <div class="col-sm-3"></div>
      <div class="col-sm-6 mt-3 mb-3 text-center">
        <button class="btn btn-light" (click)="changePassword()">Change password</button>
      </div>
      <div class="col-sm-3"></div>
    </ng-container>
    <ng-container *ngIf="!doesUserRemember">
      <ng-container *ngIf="!didKnowSecurityAnswer">
        <div class="col-sm-3"></div>
        <div class="col-sm-6 mt-3 mb-3" *ngIf="!didGetSecurityQuestion">
          <label for="input-username2" class="form-label text-white">Username</label>
          <input type="text" class="form-control" id="input-username2" [class.is-invalid]="username2 == ''"
            [class.is-valid]="username2 != ''" [(ngModel)]="username2">
          <div class="invalid-feedback">
            {{username2Error}}
          </div>
          <div class="valid-feedback">
            {{successMessage}}
          </div>
        </div>
        <div class="col-sm-3"></div>
        <div class="col-sm-3"></div>
        <div class="col-sm-6 mt-3 mb-3" *ngIf="didGetSecurityQuestion">
          <label class="form-label text-white">Your security question: "{{securityQuestion}}"</label>
        </div>
        <div class="col-sm-3"></div>
        <div class="col-sm-3"></div>
        <div class="col-sm-6 mt-3 mb-3" *ngIf="didGetSecurityQuestion">
          <label for="input-username" class="form-label text-white">Answer you security question here</label>
          <input type="text" class="form-control" id="input-username" [class.is-invalid]="securityAnswer == ''"
            [class.is-valid]="securityAnswer != ''" [(ngModel)]="securityAnswer">
          <div class="invalid-feedback">
            {{securityAnswerError}}
          </div>
          <div class="valid-feedback">
            {{successMessage}}
          </div>
        </div>
        <div class="col-sm-3"></div>
        <div class="col-sm-3"></div>
        <div class="col-sm-6 mt-3 mb-3 text-center" *ngIf="!didGetSecurityQuestion">
          <button class="btn btn-light" (click)="getSecurityQuestion()">Get your security question</button>
        </div>
        <div class="col-sm-3"></div>
        <div class="col-sm-3"></div>
        <div class="col-sm-6 mt-3 mb-3 text-center" *ngIf="didGetSecurityQuestion">
          <button class="btn btn-light" (click)="confirmSecurityAnswer()">Confirm your security answer</button>
        </div>
        <div class="col-sm-3"></div>
      </ng-container>
      <ng-container *ngIf="didKnowSecurityAnswer">
        <div class="col-sm-3"></div>
        <div class="col-sm-6 mt-3 mb-3">
          <label for="input-new2" class="form-label text-white">Enter you new password here</label>
          <input type="password" class="form-control" id="input-new2" [class.is-invalid]="newPassword2 == ''"
            [class.is-valid]="newPassword2 != ''" [(ngModel)]="newPassword2">
          <div class="invalid-feedback">
            {{newPassword2Error}}
          </div>
          <div class="valid-feedback">
            {{successMessage}}
          </div>
        </div>
        <div class="col-sm-3"></div>
        <div class="col-sm-3"></div>
        <div class="col-sm-6 mt-3 mb-3">
          <label for="input-new2again" class="form-label text-white">Enter again your new password here</label>
          <input type="password" class="form-control" id="input-new2again"
            [class.is-invalid]="newPassword2Repeated == ''" [class.is-valid]="newPassword2Repeated != ''"
            [(ngModel)]="newPassword2Repeated">
          <div class="invalid-feedback">
            {{newPassword2RepeatedError}}
          </div>
          <div class="valid-feedback">
            {{successMessage}}
          </div>
        </div>
        <div class="col-sm-3"></div>
        <div class="col-sm-3"></div>
        <div class="col-sm-6 mt-3 mb-3 text-center">
          <button class="btn btn-light" (click)="changePassword()">Change password</button>
        </div>
        <div class="col-sm-3"></div>
      </ng-container>
    </ng-container>
  </div>
  <app-footer></app-footer>
</div>